_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{"+HRb":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/purchase",function(){return n("8jbx")}])},"8jbx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var i=n("nKUr"),s=n("q1tI"),a=n("20a2"),c=n("9Dj+"),r=n("NvbN"),o=n("o0o1"),l=n.n(o);function x(e,t,n,i,s,a,c){try{var r=e[a](c),o=r.value}catch(l){return void n(l)}r.done?t(o):Promise.resolve(o).then(i,s)}var j=n("KQm4"),u=n("MX0m"),p=n.n(u),m=n("F2YG"),d=n.n(m);function b(e){var t=e.items,n=e.update,s=function(e,i,s){t[e][i]=s,"editing"===i&&!1===s&&a(e),n(Object.assign([],t))},a=function(){var e,n=(e=l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://pixabay.com/api/?key=20028294-070cb605b6300a57fd29bffc5&image_type=photo&q="+encodeURIComponent(t[n].name)).then((function(e){return e.json()})).then((function(e){console.log(e),s(n,"thumbnail",e.hits[0].largeImageURL)}));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,s){var a=e.apply(t,n);function c(e){x(a,i,s,c,r,"next",e)}function r(e){x(a,i,s,c,r,"throw",e)}c(void 0)}))});return function(e){return n.apply(this,arguments)}}();return Object(i.jsxs)("div",{className:"jsx-160062596",children:[Object(i.jsxs)("ul",{className:"jsx-160062596",children:[Object(i.jsxs)("li",{onClick:function(){n([{name:"",quantity:1,price:0,thumbnail:"",editing:!0}].concat(Object(j.a)(t)))},className:"jsx-160062596 add",children:[Object(i.jsx)("img",{src:"/images/icon-plus.svg",className:"jsx-160062596"}),"Add item"]}),t.map((function(e,t){return Object(i.jsx)("li",{className:"jsx-160062596",children:e.editing?Object(i.jsxs)("div",{className:"jsx-160062596 edit",children:[Object(i.jsxs)("label",{className:"jsx-160062596",children:["Item Name",Object(i.jsx)("input",{type:"text",placeholder:"Tap to enter",value:e.name,onChange:function(e){return s(t,"name",e.target.value)},className:"jsx-160062596 "+(d.a.input||"")})]}),Object(i.jsxs)("label",{className:"jsx-160062596",children:["Item Price",Object(i.jsx)("span",{className:"jsx-160062596 currency",children:"\xa5"}),Object(i.jsx)("input",{type:"number",min:"0",step:"1",placeholder:"Tap to enter",value:e.price,onChange:function(e){return s(t,"price",parseInt(e.target.value.substr(0,6)))},className:"jsx-160062596 "+(d.a.input+" price"||!1)})]}),Object(i.jsxs)("label",{className:"jsx-160062596",children:["Quantity",Object(i.jsx)("select",{value:e.quantity,onChange:function(e){return s(t,"quantity",parseInt(e.target.value))},className:"jsx-160062596 "+(d.a.input||""),children:Object(j.a)(Array(100)).map((function(e,t){return t+1})).map((function(e,t){return Object(i.jsx)("option",{value:e,className:"jsx-160062596",children:e},t)}))})]}),Object(i.jsx)("button",{onClick:function(e){return s(t,"editing",!1)},disabled:!e.name,className:"jsx-160062596 "+(d.a["btn-submit"]+" btn-submit"||!1),children:"OK"})]}):Object(i.jsxs)("div",{className:"jsx-160062596 item",children:[Object(i.jsx)("button",{onClick:function(e){return s(t,"editing",!0)},className:"jsx-160062596 btn-edit",children:Object(i.jsx)("img",{src:"/images/icon-edit.svg",className:"jsx-160062596"})}),Object(i.jsx)("img",{src:e.thumbnail,className:"jsx-160062596 thumbnail"}),Object(i.jsx)("h2",{className:"jsx-160062596",children:e.name}),Object(i.jsxs)("p",{className:"jsx-160062596 quantity",children:["x ",e.quantity]}),Object(i.jsx)(r.a,{price:e.price,size:"middle"})]})},t)}))]}),Object(i.jsx)(p.a,{id:"160062596",children:["ul.jsx-160062596{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;overflow-x:scroll;padding-bottom:10px;}",".add.jsx-160062596,.item.jsx-160062596,.edit.jsx-160062596{min-width:154px;min-height:280px;margin-right:10px;border-radius:10px;}",".add.jsx-160062596{text-align:center;color:#FF7A00;padding-top:100px;border:1px solid #FF7A00;box-sizing:border-box;}",".add.jsx-160062596 img.jsx-160062596{margin:0 auto;margin-bottom:30px;}",".item.jsx-160062596{text-align:center;position:relative;padding:20px;box-shadow:4px 4px 14px rgba(0,0,0,0.1);border-radius:10px;}",".item.jsx-160062596 .btn-edit.jsx-160062596{position:absolute;right:5px;top:5px;}",".item.jsx-160062596 .thumbnail.jsx-160062596{height:114px;-webkit-clip-path:circle(50%);clip-path:circle(50%);margin-bottom:30px;}",".item.jsx-160062596 h2.jsx-160062596{font-size:14px;font-weight:bold;margin-bottom:10px;line-height:1;}",".item.jsx-160062596 .quantity.jsx-160062596{font-size:14px;line-height:1;margin-bottom:20px;}",".edit.jsx-160062596{padding:16px;border:1px solid #FF7A00;box-sizing:border-box;}",".edit.jsx-160062596 label.jsx-160062596{font-size:12px;color:#FF7A00;margin-bottom:16px;display:block;line-height:1;}",".edit.jsx-160062596 input.jsx-160062596,.edit.jsx-160062596 select.jsx-160062596{margin-top:10px;font-size:14px;color:black;border-bottom:1px solid #F5F5F5;}",".edit.jsx-160062596 .currency.jsx-160062596{display:block;color:black;z-index:1;position:relative;margin-bottom:-24px;margin-top:10px;font-size:16px;}",".edit.jsx-160062596 .price.jsx-160062596{text-align:right;}",".edit.jsx-160062596 .btn-submit.jsx-160062596{font-size:14px;padding:10px 0;margin-top:30px;}"]})]})}function h(){var e=Object(s.useState)(!1),t=e[0],n=e[1],o=Object(s.useState)([]),l=o[0],x=o[1],j=Object(s.useState)(0),u=j[0],p=j[1],m=Object(s.useState)([{id:-1,name:"-"},{id:1,name:"MYM"},{id:2,name:"Yuya Sakai From Miyagi Prefecture"}]),h=m[0],g=(m[1],Object(a.useRouter)()),f=function(e){e.preventDefault(),n(!0),setTimeout((function(){g.push("thanks")}),2e3)};return Object(i.jsxs)(c.a,{pageName:"Purchase",pageDescription:"Hello! Thank you for shopping \ud83d\ude00 Fill out this form and then take the money from the common fee",children:[Object(i.jsx)("h2",{className:"mb-10 text-sm leading-none font-bold",children:"What's items"}),Object(i.jsx)("div",{className:"mb-14",children:Object(i.jsx)(b,{items:l,update:function(e){x(e),p(e.reduce((function(e,t){return e+(t.price||0)*t.quantity}),0))}})}),Object(i.jsx)("div",{className:"mb-10",children:Object(i.jsx)(r.a,{price:u})}),Object(i.jsx)("select",{className:d.a.input+" mb-10",children:h.map((function(e,t){return Object(i.jsx)("option",{value:e.id,children:e.name},t)}))}),t?Object(i.jsxs)("button",{className:d.a["btn-submit"],onClick:f,children:[Object(i.jsxs)("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),Object(i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing"]}):Object(i.jsx)("button",{className:d.a["btn-submit"],onClick:f,children:"Purchase"})]})}}},[["+HRb",0,1,2,3]]]);