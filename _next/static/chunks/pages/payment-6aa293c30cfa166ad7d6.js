_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{VWjq:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/payment",function(){return t("uCn+")}])},"uCn+":function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return h}));var c=t("nKUr"),a=t("o0o1"),i=t.n(a),r=t("HaE+"),s=t("Wgwc"),o=t.n(s),l=t("q1tI"),u=t("20a2"),p=t("9Dj+"),j=t("F2YG"),b=t.n(j),d=t("/wep");function h(){var e=Object(l.useState)([]),n=e[0],t=e[1],a=Object(l.useState)(""),s=a[0],j=a[1],h=Object(d.b)(),x=(Object(u.useRouter)(),function(){var e=Object(r.a)(i.a.mark((function e(n){var c,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return j(n),e.next=5,Object(d.a)(n);case 5:for(c=e.sent,console.log(c),a=[],r=function(e){var n=o()().add(-e,"month"),t="".concat(n.year(),"/").concat(n.format("MM"),"/01 00:00:00"),i=c.find((function(e){return e.liabilityMonth===t}));a.push({liabilityMonth:t,year:n.year(),month:n.format("MMM"),processing:!1,paid:!!i,price:i?i.price:400})},s=0;s<6;s++)r(s);a.reverse(),t(a);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),m=function(){var e=Object(r.a)(i.a.mark((function e(c){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n[c].processing=!0,t(Object.assign([],n)),a=n[c],e.next=5,Object(d.c)(s,a.liabilityMonth,a.price);case 5:n[c].processing=!1,n[c].paid=!0,t(Object.assign([],n));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(c.jsxs)(p.a,{pageName:"Pay the <br />common fee",pageDescription:"Thank you for your cooperation this month \ud83d\ude00",pageHero:"/images/payment.jpg",children:[Object(c.jsx)("div",{className:"mb-10",children:Object(c.jsxs)("select",{className:b.a.input,onChange:function(e){return x(e.target.value)},children:[Object(c.jsx)("option",{value:"",children:"-"}),h.map((function(e,n){return Object(c.jsx)("option",{value:e.id,children:e.name},n)}))]})}),Object(c.jsx)("div",{className:"mb-10",children:Object(c.jsx)("ul",{children:n.map((function(e,a){return Object(c.jsxs)("li",{className:"mb-5 flex space-x-5",children:[Object(c.jsxs)("span",{style:{width:"300px",marginTop:"5px",display:"inline-block"},children:[e.month,". ",e.year]}),Object(c.jsxs)("select",{className:b.a.input,onChange:function(e){return function(e,c){n[e].price=c,t(Object.assign([],n))}(a,e.target.value)},value:e.price,disabled:e.paid,children:[Object(c.jsx)("option",{value:"100",children:"100"}),Object(c.jsx)("option",{value:"200",children:"200"}),Object(c.jsx)("option",{value:"300",children:"300"}),Object(c.jsx)("option",{value:"400",children:"400"}),Object(c.jsx)("option",{value:"500",children:"500"}),Object(c.jsx)("option",{value:"600",children:"600"}),Object(c.jsx)("option",{value:"700",children:"700"}),Object(c.jsx)("option",{value:"800",children:"800"}),Object(c.jsx)("option",{value:"900",children:"900"}),Object(c.jsx)("option",{value:"1000",children:"1,000"})]}),e.processing?Object(c.jsxs)("button",{className:b.a["btn-submit"],style:{padding:0},children:[Object(c.jsxs)("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(c.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),Object(c.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing"]}):Object(c.jsx)("button",{className:b.a["btn-submit"],onClick:function(e){return m(a)},style:{padding:0},disabled:e.paid,children:e.paid?"Paid":"Pay"})]},a)}))})})]})}}},[["VWjq",0,1,2,3]]]);